method: bayes
metric:
  goal: minimize
  name: lambda_sharing
parameters:
  backbone:
    distribution: categorical
    values:
    - SparseChem
  backbone_lr:
    distribution: uniform
    max: 0.02
    min: 0.0005
  batch_size:
    distribution: int_uniform
    max: 256
    min: 64
  config:
    value:
    - ../yamls/chembl_mini_train.yaml
  cpu:
    distribution: categorical
    values:
    - "false"
  dataload.dataroot:
    distribution: categorical
    values:
    - ../../MLDatasets/chembl23_mini
  dataload.dataset:
    distribution: categorical
    values:
    - Chembl23_mini
  dataload.fold_inputs:
    value: 32000 
  dataload.folding:
    value:
    - chembl_23mini_folds.npy
  dataload.x:
    value:
    - chembl_23mini_x.npy
  decay_lr_freq:
    distribution: int_uniform
    max: 40
    min: 5
  decay_lr_rate:
    distribution: uniform
    max: 1.5
    min: 0.15
  diff_sparsity_weights:
    value:
    - "true"
    - "false"
  exp_desc:
    distribution: categorical
    values:
    - weight 105 bch/ep policy 105 bch/ep
  exp_description:
    distribution: categorical
    values:
    - weight 105 bch/ep policy 105 bch/ep
  exp_folder:
    distribution: categorical
    values:
    - 40x1_0410_1934_lr0.001_do0.0_w_resid
    - 40x2_0410_1942_lr0.001_do0.0_w_resid
    - 50x1_0409_1955_lr0.001_do0.2_w_resid
    - 50x1_0410_1258_lr0.01_do0.0_w_resid
    - 50x1_0410_1853_lr0.001_do0.0_w_resid
    - 50x1_0410_1853_lr0.001_do0.0_no_resid
    - 50x1_0410_1258_lr0.01_do0.0_no_resid
    - 50x1_0409_1955_lr0.001_do0.2_no_resid
    - 40x2_0413_1034_lr0.001_do0.05_no_resid
    - 40x2_0413_1034_lr0.001_do0.05_w_resid
  exp_id:
    distribution: categorical
    values:
    - 2zenmjko
    - 2lrmli70
    - 1h0lzme7
    - 347bwx9y
    - 5klb5arf
    - zzf4kqf5
    - 1mgg4o0h
    - 2yahm6lz
    - 28t0wys6
    - 2poc4f1i
  exp_name:
    distribution: categorical
    values:
    - 0410_1934_w_resid
    - 0410_1942_w_resid
    - 0409_1955_w_resid
    - 0410_1258_w_resid
    - 0410_1853_w_resid
    - 0410_1853_no_resid
    - 0410_1258_no_resid
    - 0409_1955_no_resid
    - 0413_1034_no_resid
    - 0413_1034_w_resid
  exp_name_pfx:
    distribution: categorical
    values:
    - 4101934
    - 4101942
    - 4091955
    - 4101258
    - 4101853
    - 1094172
  first_dropout:
    distribution: uniform
    max: 0.4
    min: 0
  first_non_linearity:
    distribution: categorical
    values:
    - relu
  fix_BN:
    distribution: categorical
    values:
    - "true"
    - "false"
  folder_sfx:
    distribution: categorical
    values:
    - w_resid
    - no_resid
  input_size:
    distribution: int_uniform
    max: 64000
    min: 16000
  is_curriculum:
    distribution: categorical
    values:
    - "true"
    - "false"
  is_residual:
    distribution: categorical
    values:
    - "true"
    - "false"
  is_sharing:
    distribution: categorical
    values:
    - "true"
    - "false"
  is_sparse:
    distribution: categorical
    values:
    - "true"
    - "false"
  lambda_sharing:
    distribution: uniform
    max: 0.02
    min: 0.005
  lambda_sparsity:
    distribution: uniform
    max: 0.04
    min: 0.01
  last_dropout:
    distribution: uniform
    max: 0.4
    min: 0
  last_non_linearity:
    distribution: categorical
    values:
    - relu
  middle_dropout:
    distribution: uniform
    max: 0.4
    min: 0
  middle_non_linearity:
    distribution: categorical
    values:
    - relu
  no_residual:
    distribution: categorical
    values:
    - "true"
    - "false"
  paths.checkpoint_dir:
    distribution: categorical
    values:
    - ../../experiments/mini-AdaSparseChem
  paths.log_dir:
    distribution: categorical
    values:
    - ../../experiments/mini-AdaSparseChem
  paths.result_dir:
    distribution: categorical
    values:
    - ../../experiments/mini-AdaSparseChem
  policy:
    distribution: categorical
    values:
    - "true"
    - "false"
  policy_lr:
    distribution: uniform
    max: 0.002
    min: 0.0005
  policy_model:
    distribution: categorical
    values:
    - task-specific
  project_name:
    distribution: categorical
    values:
    - AdaSparseChem-Mini
  random_seed:
    distribution: int_uniform
    max: 176
    min: 44
  resume:
    distribution: categorical
    values:
    - "true"
    - "false"
  retrain_from_pl:
    distribution: categorical
    values:
    - "true"
    - "false"
  task_lr:
    distribution: uniform
    max: 0.02
    min: 0.0005
  train.backbone_lr:
    distribution: uniform
    max: 0.02
    min: 0.0005
  train.batch_size:
    distribution: int_uniform
    max: 256
    min: 64
  train.decay_lr_freq:
    distribution: int_uniform
    max: 40
    min: 5
  train.decay_lr_rate:
    distribution: uniform
    max: 1.5
    min: 0.15
  train.decay_temp:
    distribution: uniform
    max: 1.93
    min: 0.4825
  train.decay_temp_freq:
    distribution: int_uniform
    max: 32
    min: 8
  train.hard_sampling:
    distribution: categorical
    values:
    - "true"
    - "false"
  train.init_method:
    distribution: categorical
    values:
    - random
  train.init_temp:
    distribution: int_uniform
    max: 8
    min: 2
  train.lambda_sharing:
    distribution: uniform
    max: 0.02
    min: 0.005
  train.lambda_sparsity:
    distribution: uniform
    max: 0.04
    min: 0.01
  train.lambda_tasks:
    distribution: int_uniform
    max: 2
    min: 1
  train.policy_decay_lr_freq:
    distribution: int_uniform
    max: 100
    min: 25
  train.policy_decay_lr_rate:
    distribution: uniform
    max: 1.5
    min: 0.375
  train.policy_iter:
    distribution: categorical
    values:
    - best
  train.policy_lr:
    distribution: uniform
    max: 0.002
    min: 0.0005
  train.policy_optimizer:
    distribution: categorical
    values:
    - adam
  train.print_freq:
    distribution: int_uniform
    max: 0
    min: -2
  train.resume:
    distribution: categorical
    values:
    - "true"
    - "false"
  train.retrain_resume:
    distribution: categorical
    values:
    - "true"
    - "false"
  train.task_lr:
    distribution: uniform
    max: 0.02
    min: 0.0005
  train.total_iters:
    distribution: int_uniform
    max: 50000
    min: 12500
  train.training_epochs:
    distribution: int_uniform
    max: 500
    min: 125
  train.val_freq:
    distribution: int_uniform
    max: 1000
    min: 250
  train.val_iters:
    distribution: int_uniform
    max: 0
    min: -2
  train.warmup_epochs:
    distribution: int_uniform
    max: 200
    min: 50
  train.weight_optimizer:
    distribution: categorical
    values:
    - adam
  train.which_iter:
    distribution: categorical
    values:
    - warmup
  verbose:
    distribution: categorical
    values:
    - "true"
    - "false"
  warmup_epochs:
    distribution: int_uniform
    max: 200
    min: 50
program: train.py
